(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{377:function(t,e,n){"use strict";n.r(e);n(162);var r=n(22),o=n(23),c=n(60),l=n(100),f=n(44),d=n(40),m=(n(6),n(1),n(15),n(282)),h=n(283),v=n(279),S=n(284),O=n(296),T=n(295),y=n(294),j=n(309),x=n.n(j);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var I=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},M=function(t){Object(c.a)(n,t);var e=k(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).modalRef="MoveTimeModal",t.transferTime=0,t.transferSplit={id:-1,name:""},t}return Object(o.a)(n,[{key:"segmentGold",get:function(){var t=Object(h.c)(this.currentSplit.BestSegmentTime);return Object(m.d)(t||"0:0:0.0")}},{key:"splitOptions",get:function(){var t,e,n={name:"(next) ".concat(null===(t=this.nextSplit)||void 0===t?void 0:t.Name),id:this.currentSplitIndex+1},r={name:"(prev) ".concat(null===(e=this.previousSplit)||void 0===e?void 0:e.Name),id:this.currentSplitIndex-1};if(0==this.currentSplitIndex)return[n];var o=this.splits.length-1;return this.currentSplitIndex==o?[r]:[r,n]}},{key:"timeValid",get:function(){return this.transferTime>0&&this.transferTime<=this.segmentGold&&this.transferSplit.id>=0}},{key:"invalidTimeTooltip",get:function(){return 0==this.transferTime?"Please provide a time":this.transferSplit.id<0?"Please select a split to transfer time to":this.transferTime>this.segmentGold?"You cannot transfer more than ".concat(Object(m.b)(this.segmentGold)):""}},{key:"currentSplit",get:function(){return this.splits[this.currentSplitIndex]}},{key:"nextSplit",get:function(){return this.splits[this.currentSplitIndex+1]}},{key:"previousSplit",get:function(){return this.splits[this.currentSplitIndex-1]}},{key:"chosenSplitFunction",value:function(){this.transferSplit.id===this.currentSplitIndex+1&&this.doMoveTime(this.currentSplit,this.nextSplit),this.transferSplit.id===this.currentSplitIndex-1&&this.doMoveTime(this.currentSplit,this.previousSplit)}},{key:"doMoveTime",value:function(t,e){var n=this;Object(S.b)((function(r){Object(O.a)(T.a.MOVE_TIME_TO_OTHER_SPLIT,t,e,n.transferTime).then((function(r){Object(h.d)(!0),Object.assign(t,r[0]),Object.assign(e,r[1]),n.$bvToast.toast("Moved ".concat(Object(m.b)(n.transferTime)," from ").concat(t.Name," to ").concat(e.Name),{title:"Times changed",autoHideDelay:5e3,appendToast:!1,variant:"success"})})).finally((function(){return r()}))})),this.destroyModal()}}]),n}(Object(v.mixins)(y.default));I([Object(v.Prop)()],M.prototype,"splits",void 0),I([Object(v.Prop)()],M.prototype,"currentSplitIndex",void 0);var R=M=I([Object(v.Component)({components:{Multiselect:x.a}})],M),w=n(65),component=Object(w.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:t.modalRef,attrs:{title:"Move time between splits","hide-footer":"",centered:"",size:"lg"},on:{hidden:t.destroyModal}},[n("div",{staticClass:"text-center"},[n("b-form-group",{attrs:{label:"Transfer time to:"}},[n("multiselect",{attrs:{options:t.splitOptions,placeholder:"Pick a split","track-by":"id",label:"name"},model:{value:t.transferSplit,callback:function(e){t.transferSplit=e},expression:"transferSplit"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Amount to transfer:"}},[n("time-selector",{model:{value:t.transferTime,callback:function(e){t.transferTime=e},expression:"transferTime"}})],1),t._v(" "),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-inline-block",attrs:{title:t.invalidTimeTooltip}},[n("b-button",{staticClass:"mt-2 mb-2 text-center",attrs:{variant:"success",disabled:!t.timeValid},on:{click:t.chosenSplitFunction}},[t._v("\n        Confirm\n      ")])],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TimeSelector:n(300).default})}}]);