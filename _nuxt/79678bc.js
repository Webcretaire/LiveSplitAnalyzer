(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{375:function(t,e,n){"use strict";n.r(e);n(161);var r=n(22),o=n(23),l=n(60),c=n(100),f=n(44),m=n(40),d=(n(6),n(1),n(15),n(280)),h=n(281),v=n(277),S=n(282),O=n(294),T=n(293),y=n(292),j=n(309),x=n.n(j);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},M=function(t){Object(l.a)(n,t);var e=N(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).modalRef="MoveTimeModal",t.transferTime=0,t.transferSplitName="",t}return Object(o.a)(n,[{key:"segmentGold",get:function(){var t=Object(h.c)(this.currentSplit.BestSegmentTime);return Object(d.d)(t||"0:0:0.0")}},{key:"splitOptions",get:function(){if(0==this.currentSplitIndex)return[this.nextSplit.Name];var t=this.splits.length-1;return this.currentSplitIndex==t?[this.previousSplit.Name]:[this.previousSplit.Name,this.nextSplit.Name]}},{key:"timeValid",get:function(){return this.transferTime>0&&this.transferTime<=this.segmentGold&&""!=this.transferSplitName}},{key:"invalidTimeTooltip",get:function(){return 0==this.transferTime?"You must add a time.":""==this.transferSplitName?"You need select a split to transfer to.":this.transferTime>this.segmentGold?"You cannot transfer more than ".concat(Object(d.b)(this.segmentGold),"."):""}},{key:"currentSplit",get:function(){return this.splits[this.currentSplitIndex]}},{key:"nextSplit",get:function(){return this.splits[this.currentSplitIndex+1]}},{key:"previousSplit",get:function(){return this.splits[this.currentSplitIndex-1]}},{key:"chosenSplitFunction",value:function(){var t,e;this.transferSplitName===(null===(t=this.nextSplit)||void 0===t?void 0:t.Name)&&this.doMoveTime(this.currentSplit,this.nextSplit),this.transferSplitName===(null===(e=this.previousSplit)||void 0===e?void 0:e.Name)&&this.doMoveTime(this.currentSplit,this.previousSplit)}},{key:"doMoveTime",value:function(t,e){var n=this;Object(S.b)((function(r){Object(O.a)(T.a.MOVE_TIME_TO_OTHER_SPLIT,t,e,n.transferTime).then((function(r){Object(h.d)(!0),Object.assign(t,r[0]),Object.assign(e,r[1]),n.$bvToast.toast("Moved ".concat(Object(d.b)(n.transferTime)," from ").concat(t.Name," to ").concat(e.Name),{title:"Times changed",autoHideDelay:5e3,appendToast:!1,variant:"success"})})).finally((function(){return r()}))})),this.destroyModal()}}]),n}(Object(v.mixins)(y.default));k([Object(v.Prop)()],M.prototype,"splits",void 0),k([Object(v.Prop)()],M.prototype,"currentSplitIndex",void 0);var R=M=k([Object(v.Component)({components:{Multiselect:x.a}})],M),w=n(65),component=Object(w.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:t.modalRef,attrs:{title:"Move time between splits","hide-footer":"",centered:"",size:"lg"},on:{hidden:t.destroyModal}},[n("div",{staticClass:"text-center",staticStyle:{"max-height":"80vh",overflow:"auto"}},[n("b-row",[n("b-col",[t._v("\n        Transfer time to:\n      ")]),t._v(" "),n("b-col",{attrs:{cols:"10"}},[n("multiselect",{staticClass:"mb-4",attrs:{options:t.splitOptions,placeholder:"Pick a split"},model:{value:t.transferSplitName,callback:function(e){t.transferSplitName=e},expression:"transferSplitName"}})],1)],1),t._v(" "),n("time-selector",{model:{value:t.transferTime,callback:function(e){t.transferTime=e},expression:"transferTime"}}),t._v(" "),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.invalidTimeTooltip}},[n("b-button",{staticClass:"mt-2 mb-2 text-center",attrs:{variant:"success",disabled:!t.timeValid},on:{click:t.chosenSplitFunction}},[t._v("\n        Confirm\n      ")])],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TimeSelector:n(298).default})}}]);