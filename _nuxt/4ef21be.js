(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{348:function(e,t,n){var content=n(366);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(80).default)("485029a9",content,!0,{sourceMap:!1})},365:function(e,t,n){"use strict";n(348)},366:function(e,t,n){var o=n(79)(!1);o.push([e.i,"h3[data-v-590a5d14]{font-size:1.25rem}.help-question[data-v-590a5d14]{font-size:1rem}",""]),e.exports=o},369:function(e,t,n){"use strict";n.r(t);n(163);var o=n(22),r=n(23),c=n(60),l=n(100),m=n(44),d=n(40),f=(n(6),n(1),n(2),n(128),n(127),n(16),n(3),n(17),n(101),n(102),n(283)),v=n(279),T=n(290),h=n(285),C=n(281),_=n(280),y=n(286),j=n(298),O=n.n(j),x=n(282);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var D=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},k=function(e){Object(c.a)(n,e);var t=S(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).modalRef="ComparisonEditorModal",e.comparisonName="",e.comparisonsToDelete=[],e.targetTime=e.selectedSobTotal,e.balancedFactor=0,e.useTargetTime=!1,e}return Object(r.a)(n,[{key:"deletableComparisons",get:function(){var e,t;return(null===(e=h.a.state.splitFile.Run)||void 0===e?void 0:e.Segments)?Object(f.a)(null===(t=h.a.state.splitFile.Run)||void 0===t?void 0:t.Segments).filter((function(s){return"Personal Best"!=s})):[]}},{key:"segments",get:function(){var e;return(null===(e=h.a.state.splitFile.Run)||void 0===e?void 0:e.Segments)?h.a.state.splitFile.Run.Segments:(this.$bvToast.toast("No splitfile selected",{title:"Error",autoHideDelay:5e3,appendToast:!1,variant:"danger"}),{Segment:[]})}},{key:"selectedSobTotal",get:function(){var e=Object(f.b)(this.segments);return+e[e.length-1].toFixed(2)}},{key:"makeBalanced",value:function(){var e=this;Object(y.a)((function(){if(e.segments.Segment.find((function(t){return Object(C.a)(t.SplitTimes.SplitTime).find((function(t){return t["@_name"]==e.comparisonName}))})))e.$bvToast.toast("Comparison ".concat(e.comparisonName," already exists"),{title:"Error",autoHideDelay:5e3,appendToast:!1,variant:"danger"});else{Object(f.d)(!0);var t=e.useTargetTime?100*(e.targetTime/e.selectedSobTotal-1):e.balancedFactor,n=Object(f.b)(e.segments,!1).map((function(time){return time+t/100*time})),o=[],r=[];h.a.state.hasGameTime&&(o=Object(f.b)(e.segments,!0),r=o.map((function(time){return time+t/100*time}))),e.segments.Segment.forEach((function(t,o,c){var l=Object(C.a)(c[o].SplitTimes.SplitTime),m={"@_name":e.comparisonName,RealTime:Object(_.c)(n[o])};h.a.state.hasGameTime&&(m.GameTime=Object(_.c)(r[o])),l.push(m),c[o].SplitTimes.SplitTime=l}))}})),this.$bvToast.toast("Comparison was successfully added",{title:this.comparisonName,autoHideDelay:5e3,appendToast:!1,variant:"success"})}},{key:"deleteComparisons",value:function(){var e=this;x.a.$emit("openConfirm","Delete ".concat(this.comparisonsToDelete.join(", "),"?"),(function(){Object(f.d)(!0),e.segments.Segment.forEach((function(t,n,o){var r=Object(C.a)(o[n].SplitTimes.SplitTime);o[n].SplitTimes.SplitTime=r.filter((function(t){return!e.comparisonsToDelete.includes(t["@_name"])}))})),e.$bvToast.toast("Comparison".concat(1==e.comparisonsToDelete.length?"":"s"," successfully deleted"),{title:e.comparisonsToDelete.join(", "),autoHideDelay:5e3,appendToast:!1,variant:"success"}),e.comparisonsToDelete=[],x.a.$emit("closeConfirm")}))}}]),n}(Object(v.mixins)(T.default)),R=k=D([Object(v.Component)({components:{Multiselect:O.a}})],k),w=(n(365),n(65)),component=Object(w.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:e.modalRef,staticClass:"text-center",attrs:{title:"Comparison editor","hide-footer":"",centered:"",size:"md"},on:{hidden:e.destroyModal}},[n("h3",{staticClass:"text-center"},[e._v("Create a balanced comparison")]),e._v(" "),n("table",{staticClass:"w-100",attrs:{role:"presentation"}},[n("tbody",[n("tr",[n("td",{staticClass:"text-right pr-2"},[e._v("\n        Name\n      ")]),e._v(" "),n("td",[n("b-form-input",{attrs:{required:"",debounce:"500"},model:{value:e.comparisonName,callback:function(t){e.comparisonName=t},expression:"comparisonName"}})],1)]),e._v(" "),n("tr",[n("td",{staticClass:"text-center pt-2 pb-2",attrs:{colspan:"2"}},[n("span",{staticClass:"pr-2"},[e._v("Use a factor")]),e._v(" "),n("b-checkbox",{staticClass:"d-inline",attrs:{switch:""},model:{value:e.useTargetTime,callback:function(t){e.useTargetTime=t},expression:"useTargetTime"}}),e._v(" "),n("span",{staticClass:"pl-1"},[e._v("Use a target time")])],1)]),e._v(" "),e.useTargetTime?n("tr",[n("td",{staticClass:"text-right pr-2"},[e._v("\n        Target time\n        "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"help-question",attrs:{title:"Automatically determine time factor based on a target total time (in seconds)"}},[n("font-awesome-icon",{attrs:{icon:"circle-question"}})],1)]),e._v(" "),n("td",[n("b-form-input",{attrs:{type:"number",min:e.selectedSobTotal,debounce:"500",step:"0.01"},model:{value:e.targetTime,callback:function(t){e.targetTime=e._n(t)},expression:"targetTime"}})],1)]):n("tr",[n("td",{staticClass:"text-right pr-2"},[e._v("\n        Factor\n        "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"help-question",attrs:{title:"How much time to add to each of your golds (as a percentage)"}},[n("font-awesome-icon",{attrs:{icon:"circle-question"}})],1)]),e._v(" "),n("td",[n("b-form-input",{attrs:{type:"number",min:"0",debounce:"500",step:"0.01"},model:{value:e.balancedFactor,callback:function(t){e.balancedFactor=e._n(t)},expression:"balancedFactor"}})],1)])])]),e._v(" "),n("div",{staticClass:"text-center"},[n("b-button",{staticClass:"mt-3",attrs:{variant:"success"},on:{click:e.makeBalanced}},[e._v("\n      Create\n    ")])],1),e._v(" "),e.deletableComparisons.length?n("div",[n("hr"),e._v(" "),n("h3",{staticClass:"text-center"},[e._v("Delete comparison")]),e._v(" "),n("multiselect",{attrs:{options:e.deletableComparisons,multiple:""},model:{value:e.comparisonsToDelete,callback:function(t){e.comparisonsToDelete=t},expression:"comparisonsToDelete"}}),e._v(" "),n("div",{staticClass:"text-center"},[n("b-button",{staticClass:"mt-2",attrs:{variant:"danger",disabled:!e.comparisonsToDelete.length},on:{click:e.deleteComparisons}},[e._v("\n        Delete\n      ")])],1)],1):e._e()])}),[],!1,null,"590a5d14",null);t.default=component.exports}}]);